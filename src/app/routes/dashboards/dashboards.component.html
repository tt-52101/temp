<page-header>
  <div *ngIf="list" nz-row nzGutter="32">
    <div *ngFor="let i of list" nz-col nzSm="12" nzXl="8">
      <nz-card class="ant-card__body-nopadding">
        <div class="d-flex justify-content-between align-items-start px-md pt-md">
          <div>
            <a [routerLink]="['/projectdetails',i.ProjectNo]" class="text-md pr-sm">{{i.ProjectNo}}</a>
            <nz-tag *ngIf="i.ManualProgress === 'Job Created'" nzColor="green">Active</nz-tag>
            <nz-tag *ngIf="i.ManualProgress === 'Job Terminated'" nzColor="orange">Pending</nz-tag>
            <nz-tag *ngIf="i.ManualProgress === 'Job Finished'" nzColor="blue">Complete</nz-tag>
            <div class="text-grey text-xs mt-xs">
              opened tasks, tasks completed
            </div>
          </div>
          <nz-dropdown nzPlacement="bottomRight">
            <span class="dd-btn" nz-dropdown><i nz-icon type="ellipsis"></i></span>
            <ul nz-menu>
              <li nz-menu-item [routerLink]="['/home/project',i.ProjectNo]">View</li>
              <li nz-menu-item (click)="msg.success('edit')">Edit</li>
              <li nz-menu-item>
                <nz-popconfirm nzTitle="确定吗？" (nzOnConfirm)="del(i, idx)">
                  <span nz-popconfirm>Remove</span>
                </nz-popconfirm>
              </li>
            </ul>
          </nz-dropdown>
        </div>
        <nz-progress [nzPercent]="i.ProgressPercent" [nzStatus]="i.ManualProgress" [nzShowInfo]="false"
          nzStrokeWidth="3" nzSize="small"></nz-progress>
        <div class="px-md text-xs">
          <strong class="pr-xs">{{i.ProgressPercent||0}}%</strong>completed
        </div>
        <div class="px-md pt-md overflow-hidden" style="height: 70px">{{i.ClientName}},{{i.ServiceNames}}</div>
        <div class="px-md pb-md d-flex align-items-start">
          <div class="width-50">
            <div class="text-grey text-sm">Created</div>
            <strong>{{i.OpenDate | _date: 'MM/DD/YYYY' }}</strong>
          </div>
          <div class="width-50">
            <div class="text-grey text-sm">Deadline</div>
            <strong>{{i.TargetDate | _date: 'MM/DD/YYYY' }}</strong>
          </div>
        </div>
        <div class="p-md border-top-1">
          <div class="text-grey text-sm pb-sm">Team</div>
          <!-- <avatar-list size="small">
            <avatar-list-item *ngFor="let u of i.tean" [tips]="u.name" [src]="u.mp"></avatar-list-item>
          </avatar-list> -->
        </div>
      </nz-card>
    </div>
  </div>
</page-header>
